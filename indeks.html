<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.accordion {
  background-color: #eee;
  color: #444;
  cursor: pointer;
  padding: 18px;
  width: 50%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
  transition: 0.4s;
}

.active, .accordion:hover {
  background-color: #ccc;
}

.panel {
  padding: 0 18px;
  background-color: white;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.2s ease-out;
  width: 50%;
}
</style>
</head>
<body>

<h2>Animowana harmonijka</h2>

<button class="accordion" id="acc-1">Bajka część 1</button>
<div class="panel">
  <p>Działo się to przed wiekami, gdy w krainie Sil rządził zły król Argh. W małej chatce w dolinie zwanej Krystal urodziła się dziewczynka. Rodzice dali jej na imię Rissa. Czas mijał, a dziewczynka szybko rosła. </p>
</div>

<button class="accordion" id="acc-2">Bajka część 2</button>
<div class="panel">
  <p>Gdy tylko nauczyła się chodzić, przechadzała się z rodzicami po lesie. W czasie swych spacerów omijali jednak ścieżkę prowadzącą do Mrocznej Puszczy - zakazanej części lasu. </p>
</div>

<button class="accordion" id="acc-3">Bajka część 3</button>
<div class="panel">
  <p>Łąki doliny Krystal były obsypane kwiatami. Wodospady na skraju łąk lśniły złotem, gdy padało na nie słońce. Dziewczynka wyobrażała sobie, że za tymi wodospadami są całe masy złota i kryształów.</p>
</div>

<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    
    var previousAccordion = document.getElementsByClassName("active");
    var currentAccordion = this;
    
    if (previousAccordion.length > 0) {
        var prevId = previousAccordion[0].id;
        
    	previousAccordion[0].nextElementSibling.style.maxHeight = null;
        previousAccordion[0].classList.toggle("active");
    	
    	if (currentAccordion.id === prevId) {
    		return;
    	}
    }
    
    currentAccordion.classList.toggle("active");
    currentAccordion.nextElementSibling.style.maxHeight = this.nextElementSibling.scrollHeight + 'px';
     
  });
}
</script>

</body>
</html>